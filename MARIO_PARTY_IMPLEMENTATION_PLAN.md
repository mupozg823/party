# Mario Party 스타일 게임 구현 방안/설계 (v0.1)

작성일: 2026-02-25  
대상: 초기 기획/기술 설계 단계

## 0. 문서 목적

이 문서는 **Mario Party 스타일 캐주얼 파티 게임**을 만들기 위한 첫 설계 초안이다.  
목표는 "바로 구현 가능한 수준"의 기준을 세우는 것이며, 핵심은 아래 3가지다.

1. 핵심 재미 루프 고정
2. MVP 범위 확정
3. 단계별 구현/검증/롤백 전략 수립

---

## 1. 제품 비전

### 1-1. 한 줄 비전

`짧은 턴 진행 + 예측 불가 이벤트 + 실력 기반 미니게임`이 반복되어,  
친구들과 30~45분 동안 웃으며 경쟁할 수 있는 파티 게임.

### 1-2. 핵심 경험

- 보드 위에서 이동/선택으로 전략을 만든다.
- 턴 종료마다 미니게임으로 역전 기회를 만든다.
- 코인/별 경제로 끝까지 승부가 뒤집히는 긴장감을 만든다.

### 1-3. 타겟

- 플랫폼(1차): PC
- 모드(1차): 로컬 멀티(1~4인, 패드/키보드)
- 모드(2차): 온라인 멀티 확장

---

## 2. 코어 게임 루프

한 경기(매치)는 아래 루프를 턴 수만큼 반복한다.

1. 턴 시작
2. 주사위 굴림
3. 보드 이동
4. 칸 이벤트 적용(코인 획득/손실, 아이템, 함정 등)
5. 상점/분기점 선택
6. 모든 플레이어 턴 종료 후 미니게임
7. 보상 정산
8. 다음 턴
9. 마지막 턴 종료 후 순위 계산(별 > 코인)

### 턴 상태 머신(FSM) 초안

- `MatchInit`
- `TurnStart`
- `DiceRoll`
- `BoardMove`
- `SpaceResolve`
- `ShopOrBranchDecision`
- `TurnEnd`
- `MinigamePrepare`
- `MinigamePlay`
- `RewardResolve`
- `MatchEnd`

---

## 3. MVP 범위 (첫 플레이 가능 버전)

### 포함

- 보드 1개(분기 포함)
- 플레이어 4명(로컬)
- 미니게임 4~6종
- 코인/별 경제 시스템
- 기본 아이템 3종
- 결과 화면(랭킹/통계)

### 제외(후속)

- 온라인 매치메이킹
- 3D 고도화 연출
- 복잡한 캐릭터 커스터마이징
- 시즌/라이브옵스

### MVP 완료 기준(DoD)

- 30분 내 한 경기 정상 종료
- 경기 중 치명적 에러/소프트락 0건
- 플레이테스트 10판 기준 완주율 95%+

---

## 4. 기술 선택 제안

## 권장안 A: Unity + C#

- 장점
  - 미니게임 단위 씬 관리가 쉽고 빠름
  - 입력/애니메이션/물리 생태계 성숙
  - 팀 확장 시 인력 수급 용이
- 단점
  - 프로젝트 규모가 커지면 씬/에셋 관리 규율 필요

## 대안 B: Godot + C#

- 장점: 가볍고 빠른 반복 개발
- 단점: 대규모 팀/서드파티 자산 측면에서 Unity 대비 선택지 적음

**결정(초안):** 초기 속도와 확장성을 고려해 `Unity` 우선.

---

## 5. 시스템 아키텍처 설계

## 5-1. 모듈 분리

- `Core`
  - 게임 상태, 턴 FSM, 공통 이벤트 버스
- `Board`
  - 타일/노드 그래프, 이동 계산, 분기 처리
- `Economy`
  - 코인/별/아이템 트랜잭션
- `Minigame`
  - 미니게임 로더, 인터페이스, 결과 수집
- `UI`
  - HUD, 선택지, 결과 화면
- `Audio/VFX`
  - 피드백 연출
- `Save/Telemetry`
  - 설정 저장, 게임 로그

## 5-2. 핵심 인터페이스(개념)

```csharp
public interface IMinigame
{
    string Id { get; }
    MinigameType Type { get; }
    void Setup(MinigameContext context);
    UniTask<MinigameResult> PlayAsync(CancellationToken ct);
    void Teardown();
}
```

```csharp
public interface IBoardSpaceEffect
{
    SpaceType Type { get; }
    void Apply(PlayerState player, MatchState match);
}
```

핵심 포인트는 **미니게임/칸 효과를 데이터+인터페이스로 분리**해,  
기획 변경 시 코드 수정 범위를 최소화하는 것이다.

---

## 6. 데이터 중심 설계

## 6-1. 데이터 원칙

- 맵 구조, 이벤트 확률, 아이템 수치, 미니게임 메타는 데이터로 관리
- 코드에는 "규칙 엔진", 데이터에는 "규칙 값"

## 6-2. 예시 스키마(JSON 개념)

```json
{
  "boardId": "island_01",
  "spaces": [
    { "id": 1, "type": "Blue", "next": [2] },
    { "id": 2, "type": "Branch", "next": [3, 8] },
    { "id": 3, "type": "Shop", "next": [4] }
  ]
}
```

---

## 7. 단계별 구현 계획 (Sequential Plan)

## Phase 0. 프리프로덕션 (1주)

- 게임 규칙 1차 고정
- 아트 임시 리소스 기준 정의
- 입력 방식/카메라/씬 전환 PoC

**검증:** "보드 1턴"을 5초 이내 반복 가능

## Phase 1. 보드 플레이 코어 (2주)

- 턴 FSM 구현
- 보드 이동/분기/칸 효과
- 코인/별 정산

**검증:** 4인 10턴 시뮬레이션 완주

## Phase 2. 미니게임 프레임워크 + 2개 미니게임 (2주)

- `IMinigame` 기반 로딩/실행/결과 수집
- 1v1, FFA 각 1종 구현

**검증:** 매 턴 미니게임 진입/복귀 안정성

## Phase 3. 콘텐츠 확장 (2주)

- 미니게임 2~4개 추가
- 아이템/이벤트 확장
- UX/HUD 개선

**검증:** 플레이테스트 10판 완주율 95%+

## Phase 4. 폴리싱 (1주)

- 밸런싱, SFX/VFX, 튜토리얼
- 크래시/소프트락 이슈 정리

**검증:** 릴리즈 후보 빌드 생성

---

## 8. 주요 리스크와 대응/롤백 전략

1. **리스크: 미니게임별 입력/물리 의존성 증가**
   - 대응: 미니게임 공통 입력 어댑터 계층 분리
   - 롤백: 문제 미니게임 비활성화 후 대체 게임 투입

2. **리스크: 밸런싱 실패(역전 불가 또는 과한 랜덤성)**
   - 대응: 코인 획득 기대값/분산 로그 수집
   - 롤백: 경제 계수(보상/패널티) 데이터 핫픽스

3. **리스크: 온라인 확장 시 동기화 복잡도**
   - 대응: MVP는 로컬 우선, 온라인은 Host-authoritative 별도 단계
   - 롤백: 온라인 실험 브랜치 분리, 본선은 로컬 유지

4. **리스크: 콘텐츠 제작 병목**
   - 대응: 미니게임 템플릿/체크리스트 표준화
   - 롤백: 출시 범위를 4개 미니게임으로 고정

---

## 9. 테스트 전략

- 기능 테스트: 턴 FSM 전이, 이벤트 적용, 정산 검증
- 플레이테스트: 체감 재미, 템포, 이해도 점검
- 회귀 테스트: 미니게임 종료 후 보드 복귀 안정성
- 로그 기반 확인:
  - 평균 경기 시간
  - 평균 코인 격차
  - 턴당 이벤트 발생 분포

---

## 10. 초반 팀 운영 제안 (2~4인 기준)

- 게임플레이/시스템 1명
- 미니게임 1명
- UI/연출 1명
- 기획/밸런스 1명(겸임 가능)

주 1회 밸런스 리뷰, 주 2회 플레이테스트 세션 고정.

---

## 11. Decision Log (memory-bank 성격)

2026-02-25 결정사항:

1. 초기 릴리즈는 **로컬 멀티 우선**
2. 엔진은 **Unity 우선 검토**
3. MVP는 **보드 1개 + 미니게임 4~6개**
4. 시스템은 **데이터 중심 설계**로 확장성 확보
5. 온라인 멀티는 코어 안정화 후 별도 단계로 분리

---

## 12. 바로 다음 액션 (이번 주)

1. 턴 FSM 다이어그램 확정
2. 보드 노드 데이터 포맷 확정
3. 미니게임 인터페이스/로더 프로토타입 구현
4. 플레이테스트용 임시 맵/임시 UI 제작
5. 첫 2개 미니게임 기획서 작성(규칙/승패/컨트롤)

